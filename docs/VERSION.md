# VERSION v16.20

**Date:** 2026-02-12  
**Status:** üß™ DEBUG

---

## üîß v16.20: Debug Output - Replica Merger Freeze Detection

### üêõ –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º:** Pipeline –∑–∞–≤–∏—Å–∞–µ—Ç –ø–æ—Å–ª–µ `merge_replicas()` –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç–µ 00:23:53
- ‚ùå LOG –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: "üîÄ 00:23:53 –ò—Å–∞–µ–≤ ‚Äî –Ω–∞—á–∞–ª–æ merge"
- ‚ùå –î–∞–ª—å—à–µ –ù–ò–ß–ï–ì–û - –Ω–∏ `‚Ü≥`, –Ω–∏ `‚úÖ –°–∫–ª–µ–µ–Ω–æ`, –Ω–∏ —Å–ª–µ–¥—É—é—â–µ–≥–æ —ç—Ç–∞–ø–∞
- ‚ùå Pipeline –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ `insert_intermediate_timestamps()` –∏ –¥–∞–ª—å—à–µ

**Root Cause Analysis (5 Whys):**

1. –ü–æ—á–µ–º—É pipeline –∑–∞–≤–∏—Å?
   ‚Üí –ù–µ –¥–æ—à—ë–ª –¥–æ `insert_intermediate_timestamps()` (—Å—Ç—Ä–æ–∫–∞ 371)

2. –ü–æ—á–µ–º—É –Ω–µ –¥–æ—à—ë–ª?
   ‚Üí –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–µ—Ä–≤–∞–ª–æ—Å—å –Ω–∞ `merge_replicas()` (—Å—Ç—Ä–æ–∫–∞ 368)

3. –ü–æ—á–µ–º—É –ø—Ä–µ—Ä–≤–∞–ª–æ—Å—å?
   ‚Üí –ü–æ—Å–ª–µ "–Ω–∞—á–∞–ª–æ merge" –Ω–µ—Ç output ‚Üí –∑–∞–≤–∏—Å–∞–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏

4. –ü–æ—á–µ–º—É –∑–∞–≤–∏—Å–∞–Ω–∏–µ?
   ‚Üí –õ–∏–±–æ —Ü–∏–∫–ª `while j < len(segments)`, –ª–∏–±–æ –æ—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞

5. ROOT CAUSE?
   ‚Üí –§—É–Ω–∫—Ü–∏–∏ `clean_loops()` –∏–ª–∏ `clean_hallucinations_from_text()` –∑–∞–≤–∏—Å–∞—é—Ç –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω–æ–≥–æ merged —Ç–µ–∫—Å—Ç–∞ (>400 —Å–ª–æ–≤)

### üîß –†–µ—à–µ–Ω–∏–µ (DEBUG-–≤–µ—Ä—Å–∏—è)

**–¶–µ–ª—å:** –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Å—Ç–æ –∑–∞–≤–∏—Å–∞–Ω–∏—è —á–µ—Ä–µ–∑ debug output

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
1. –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `debug` –≤ `merge_replicas()`
2. Debug output –ø–µ—Ä–µ–¥ –∫–∞–∂–¥–æ–π —Ç—è–∂—ë–ª–æ–π –æ–ø–µ—Ä–∞—Ü–∏–µ–π:
   - –ü–µ—Ä–µ–¥ —Å–∫–ª–µ–π–∫–æ–π —Ç–µ–∫—Å—Ç–æ–≤
   - –ü–µ—Ä–µ–¥ `clean_loops()`
   - –ü–µ—Ä–µ–¥ `clean_hallucinations_from_text()`
   - –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
3. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
4. –î–æ–±–∞–≤–ª–µ–Ω `debug` –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ `clean_loops()`

**–§–∞–π–ª—ã:**
- `scripts/merge/replica_merger.py` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω debug output
- `scripts/transcribe.py` ‚Äî –ø–µ—Ä–µ–¥–∞—ë–º `debug=True` –≤ `merge_replicas()`
- `docs/VERSION.md` ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω –¥–æ v16.20

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö–æ–º–∞–Ω–¥–∞:**

python scripts/transcribe.py
# –í–≤–æ–¥–∏–º –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ –ò—Å–∞–µ–≤ (27.05)
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ LOG:

text
üîÄ MERGE #50: 00:23:53 –ò—Å–∞–µ–≤ ‚Äî –Ω–∞—á–∞–ª–æ
  üìä –°–æ–±—Ä–∞–Ω–æ: X —Å–µ–≥–º–µ–Ω—Ç–æ–≤, Y —Å–ª–æ–≤
  üéØ –î–æ–º–∏–Ω–∏—Ä—É—é—â–∏–π: ...
  üîó –°–∫–ª–µ–π–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤...
  üßπ –í—ã–∑–æ–≤ clean_loops (XXXX —Å–∏–º–≤–æ–ª–æ–≤)...
    üßπ clean_loops: –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ (XXXX —Å–∏–º–≤–æ–ª–æ–≤, YYY —Å–ª–æ–≤)
    ‚úÖ clean_loops: –≥–æ—Ç–æ–≤–æ (ZZZZ —Å–∏–º–≤–æ–ª–æ–≤)
  üßπ –í—ã–∑–æ–≤ clean_hallucinations_from_text...
  ‚úÖ –û—á–∏—Å—Ç–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç: ZZZZ —Å–∏–º–≤–æ–ª–æ–≤
‚úÖ –°–∫–ª–µ–µ–Ω–æ X —Å–µ–≥–º–µ–Ω—Ç–æ–≤ ‚Üí Y —Å–ª–æ–≤
–ï—Å–ª–∏ pipeline –∑–∞–≤–∏—Å–Ω–µ—Ç:

–í–∏–¥–∏–º –Ω–∞ –∫–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ (–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç—Ä–æ–∫–∞ –ø–µ—Ä–µ–¥ –∑–∞–≤–∏—Å–∞–Ω–∏–µ–º)

–í–∏–¥–∏–º —Ä–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ (–º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π)

–ú–æ–∂–µ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å timeout

üìù –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
–ü–æ—Å–ª–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:

v16.21: FIX –∑–∞–≤–∏—Å–∞–Ω–∏—è (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–ª–∏ timeout)

v16.22: –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ timestamp_fixer/hallucinations

‚èÆÔ∏è –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏

v16.19 (2026-02-12)
Critical Fix: Timestamps + Hallucinations + Continuation

[–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è: docs/CHANGELOG.md]

–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 12.02.2026
–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: v16.20
–°–ª–µ–¥—É—é—â–∞—è –≤–µ—Ä—Å–∏—è: v16.21 (fix –∑–∞–≤–∏—Å–∞–Ω–∏—è)

