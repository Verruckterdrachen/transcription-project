# VERSION v16.13

**Date:** 2026-02-11  
**Status:** ‚úÖ PRODUCTION

---

## üî• v16.13: Critical Fix - raw_speaker_id Sync in Speaker Classifier

### üÜï –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô FIX:** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è `raw_speaker_id` –∏ `speaker` –ø—Ä–∏ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏!

**–ü—Ä–æ–±–ª–µ–º–∞ v16.12:**
- v16.12 –∏—Å–ø—Ä–∞–≤–∏–ª —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é –≤ `split_mixed_speaker_segments()` (–≠–¢–ê–ü 8)
- –ù–æ `apply_speaker_classification_v15()` (–≠–¢–ê–ü 7) –≤—Å—ë –µ—â—ë –ù–ï –æ–±–Ω–æ–≤–ª—è–ª `raw_speaker_id`
- –ü—Ä–∏ –≤–µ—Å–æ–≤–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–∑–º–µ–Ω—è–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ `speaker`
- –ü–æ–ª–µ `raw_speaker_id` –æ—Å—Ç–∞–≤–∞–ª–æ—Å—å —Å—Ç–∞—Ä—ã–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SPEAKER_01` –≤–º–µ—Å—Ç–æ `SPEAKER_00`)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: –¥–∞–∂–µ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è split –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–≤–∞–ª–∞—Å—å –∏–∑-–∑–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ v16.13:**
1. ‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ `speaker_roles` –≤ `apply_speaker_classification_v15()`
2. ‚úÖ –°–æ–∑–¥–∞–Ω –æ–±—Ä–∞—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ `reverse_roles` (–ò—Å–∞–µ–≤ ‚Üí SPEAKER_01, –ñ—É—Ä–Ω–∞–ª–∏—Å—Ç ‚Üí SPEAKER_00)
3. ‚úÖ –ü—Ä–∏ **–ö–ê–ñ–î–û–ú** –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `speaker` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `raw_speaker_id`:
   - Continuation phrase fix (—Å—Ç—Ä–æ–∫–∞ 355)
   - –ñ—É—Ä–Ω–∞–ª–∏—Å—Ç ‚Üí –°–ø–∏–∫–µ—Ä (—Å—Ç—Ä–æ–∫–∞ 381)
   - –°–ø–∏–∫–µ—Ä ‚Üí –ñ—É—Ä–Ω–∞–ª–∏—Å—Ç (—Å—Ç—Ä–æ–∫–∞ 397)
4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ `raw_speaker_id_synced` –≤ debug output
5. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –æ–±–∞ –ø–æ–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –≤–æ –≤—Å–µ—Ö 3 –º–µ—Å—Ç–∞—Ö

### üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **`scripts/corrections/speaker_classifier.py`**
   - –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `speaker_roles` –≤ `apply_speaker_classification_v15()`
   - –°–æ–∑–¥–∞–Ω –æ–±—Ä–∞—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥ `reverse_roles = {role: raw_id}`
   - –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `speaker` –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è `raw_speaker_id` —á–µ—Ä–µ–∑ `reverse_roles.get()`
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏: `# üÜï v16.13: –û–ë–ù–û–í–õ–Ø–ï–ú raw_speaker_id —á–µ—Ä–µ–∑ –æ–±—Ä–∞—Ç–Ω—ã–π –º–∞–ø–ø–∏–Ω–≥`
   - –î–æ–±–∞–≤–ª–µ–Ω —Å—á—ë—Ç—á–∏–∫ `raw_speaker_id_synced` –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

2. **`scripts/transcribe.py`**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –≤–µ—Ä—Å–∏—è: `VERSION = "16.13"`
   - –ü–µ—Ä–µ–¥–∞—á–∞ `speaker_roles` –≤ `apply_speaker_classification_v15()`
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –æ–ø–∏—Å–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ docstring
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –Ω–∞ —Å—Ç—Ä–æ–∫–µ 324: `# üÜï v16.13: –ø–µ—Ä–µ–¥–∞—ë–º speaker_roles`

3. **`docs/VERSION.md`**
   - –û–ø–∏—Å–∞–Ω–∏–µ v16.13
   - –ü—Ä–æ–±–ª–µ–º–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ

---

## üîç –¢–µ—Å—Ç –∫–µ–π—Å

**–î–æ v16.13:**
```json
// –ü–û–°–õ–ï classification (–≠–¢–ê–ü 7):
{
  "speaker": "–ñ—É—Ä–Ω–∞–ª–∏—Å—Ç",  ‚Üê –∏–∑–º–µ–Ω–µ–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º
  "raw_speaker_id": "SPEAKER_01"  ‚Üê –ù–ï –æ–±–Ω–æ–≤–ª–µ–Ω–æ! ‚ùå
}

// –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ TXT:
00:01:47 –ñ—É—Ä–Ω–∞–ª–∏—Å—Ç: –¢–æ –µ—Å—Ç—å —Å –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞... ‚ùå
