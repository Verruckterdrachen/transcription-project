# üìú –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (Changelog)

–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –≤–µ—Ä—Å–∏–π. –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è ‚Äî –≤ **VERSION.md**.

‚ö†Ô∏è –ü–†–ê–í–ò–õ–û: –Ω–æ–≤—ã–µ –±–ª–æ–∫–∏ –≤—Å—Ç–∞–≤–ª—è—Ç—å **–≤ –Ω–∞—á–∞–ª–æ**, –ø–æ—Å–ª–µ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏. –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–º–µ–Ω—è—Ç—å —Ü–µ–ª–∏–∫–æ–º.

---

## [v17.9] - 2026-02-20

### Fixed
- **–ë–ê–ì #27**: `clean_loops` –ª–æ–∂–Ω–æ —É–¥–∞–ª—è–ª —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞ —Å low-meaningful N-–≥—Ä–∞–º–º–∞–º–∏
  - ROOT CAUSE: N-–≥—Ä–∞–º–º—ã –∏–∑ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å–ª–æ–≤ (—Ñ–æ—Ä–º—ã ¬´–±—ã—Ç—å¬ª + —Å–æ—é–∑—ã + —á–∞—Å—Ç–∏—Ü—ã)
    –¥–∞–≤–∞–ª–∏ fuzzy sim ‚â• 0.75 –±–µ–∑ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–π —Å–≤—è–∑–∏ ‚Äî —è–∫–æ—Ä—å –≤ `seen[]` –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã–ª —Å–æ–∑–¥–∞–≤–∞—Ç—å—Å—è
  - FIX: –¥–æ–±–∞–≤–ª–µ–Ω `RUSSIAN_STOP_WORDS` (104 —Å–ª–æ–≤–∞) + `_count_meaningful()`;
    N-–≥—Ä–∞–º–º—ã —Å `< MIN_MEANINGFUL_WORDS=2` –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ output,
    –Ω–æ –≤ `seen[]` –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è)
  - –§–∞–π–ª: `scripts/merge/replica_merger.py`
  - –°–∏–º—É–ª—è—Ü–∏—è: `tests/simulations/sim_bug27_clean_loops.py` ‚Äî 5/5 GREEN
  - –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: –ì–æ—Ä–±—É–Ω–æ–≤ (06.06) `00:11:47` ‚Üí `"–Ω–µ –±—ã–ª. –ò –≤–æ—Ç –Ω–µ–º—Ü—ã"` ‚úÖ

---

## [v17.8] - 2026-02-19

### Fixed
- **–ë–ê–ì #26**: ¬´–°–ø–∏–∫–µ—Ä¬ª –≤–º–µ—Å—Ç–æ speaker_surname –≤ TXT
  - ROOT CAUSE: `identify_speaker_roles()` –ø—Ä–∏—Å–≤–∞–∏–≤–∞–ª hardcoded —Å—Ç—Ä–æ–∫—É ¬´–°–ø–∏–∫–µ—Ä¬ª
    –≤–º–µ—Å—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è `speaker_surname`
  - FIX: –¥–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `speaker_surname`;
    `main_speaker_role = speaker_surname if speaker_surname else "–°–ø–∏–∫–µ—Ä"` (fallback)
  - –§–∞–π–ª—ã: `scripts/core/speaker_roles.py`, `scripts/transcribe.py`

---

## [v17.6] - 2026-02-18

### Fixed
- **–ë–ê–ì #25**: False positive ‚Äî ¬´–¢–æ–≤–∞—Ä–∏—â —Ç–∞–∫ –∏ —Å–∫–∞–∑–∞–ª, –Ω–µ—Ç, –≤—ã...¬ª –æ—à–∏–±–æ—á–Ω–æ —É–¥–∞–ª—è–ª–æ—Å—å
  - ROOT CAUSE: –ø–∞—Ç—Ç–µ—Ä–Ω hallucination filter —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª –Ω–∞ –∫–æ—Å–≤–µ–Ω–Ω—É—é —Ä–µ—á—å

---

## [v17.4] - 2026-02-18

### Fixed
- **–ë–ê–ì #21**: False positive ‚Äî ¬´–í—ã –Ω–∞–≤–∞–ª–∏–≤–∞–µ—Ç–µ—Å—å...¬ª (—Ü–∏—Ç–∞—Ç–∞ –Ω–µ–º—Ü–µ–≤) –æ—à–∏–±–æ—á–Ω–æ —É–¥–∞–ª—è–ª–∞—Å—å
- **–ë–ê–ì #24**: False positive ‚Äî ¬´–¥–∞–≤–∞–π—Ç–µ –º—ã —Ç–∞–∫...¬ª (–ø–µ—Ä–µ—Å–∫–∞–∑ —à—Ç–∞–±–∞) –æ—à–∏–±–æ—á–Ω–æ —É–¥–∞–ª—è–ª–æ—Å—å
  - ROOT CAUSE: hallucination filter –Ω–µ —Ä–∞–∑–ª–∏—á–∞–ª –ø—Ä—è–º—É—é —Ä–µ—á—å –æ—Ç –∫–æ–º–∞–Ω–¥

---

## [v17.3] - 2026-02-18

### Fixed
- **–ë–ê–ì #17**: –¥—É–±–ª—å ¬´–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ¬ª –Ω–∞ 00:09:54
  - ROOT CAUSE: `join_texts_deduplicated` –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª –ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–π —Å–ª—É—á–∞–π
    —Å –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤–æ–π –ø–æ—Å–ª–µ —Ç–æ—á–∫–∏
  - FIX: `join_texts_deduplicated` —á–µ—Ä–µ–∑ `deduplicator.py`

---

## [v17.2] - 2026-02-18

### Fixed
- **–ë–ê–ì #16**: `clean_loops` –ø—Ä–æ–ø—É—Å–∫–∞–ª —Ä–µ–∞–ª—å–Ω—ã–µ loops —á–µ—Ä–µ–∑ 60+ —Å–ª–æ–≤
  - ROOT CAUSE: `LOOP_WINDOW` —Å–ª–∏—à–∫–æ–º –º–∞–ª ‚Äî seen[] –≤—ã—Ç–µ—Å–Ω—è–ª —è–∫–æ—Ä–Ω—É—é —Ñ—Ä–∞–∑—É
    –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –≤—Å—Ç—Ä–µ—á–∞–ª—Å—è –ø–æ–≤—Ç–æ—Ä
  - FIX: —É–≤–µ–ª–∏—á–µ–Ω–∏–µ `LOOP_WINDOW` –¥–æ 30

---

## [v17.1] - 2026-02-18

### Fixed
- –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ñ–∏–∫—Å—ã –ø–æ—Å–ª–µ v17.0 baseline (—Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è)

---

## [v17.0] - 2026-02-17 ‚Äî BASELINE

**–û—Ç–∫–∞—Ç –∫ v16.28** (–ø–æ—Å–ª–µ–¥–Ω—è—è —Å—Ç–∞–±–∏–ª—å–Ω–∞—è –¥–æ —Ä–µ–≥—Ä–µ—Å—Å–∏–π v16.29‚Äìv16.43)

### –ò–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω Golden Dataset (NW_Uckpa0001_01)
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω WORKFLOW.md (—Å—Ç—Ä–æ–≥–∏–π –ø–æ—Ä—è–¥–æ–∫: Tests ‚Üí Debug ‚Üí Validation ‚Üí Docs ‚Üí Commit)
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω VALIDATION.md (8 –ø—É–Ω–∫—Ç–æ–≤ + regression)
- ‚úÖ –ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–æ–≤: `üîß vX.X: FIX –ë–ê–ì #N [AUDIO_FILE]`
- ‚ö†Ô∏è –û—Ç–∫—Ä—ã—Ç—ã–µ –±–∞–≥–∏: #15 (–ø—Ä–æ–ø—É—Å–∫ —Ç–µ–∫—Å—Ç–∞), #17 (inner timestamps)

### –£—Ä–æ–∫–∏ v16.29‚Äìv16.43
–§–∏–∫—Å–∏–ª–∏ –±–µ–∑ regression-—Ç–µ—Å—Ç–æ–≤ –Ω–∞ baseline audio ‚Üí –Ω–∞–∫–æ–ø–∏–ª–∏ —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –∑–∞ 14 –∏—Ç–µ—Ä–∞—Ü–∏–π.
**–†–µ—à–µ–Ω–∏–µ:** Golden Dataset + –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π [AUDIO_FILE] –≤ –∫–æ–º–º–∏—Ç–µ.

---

## [v16.43] - 2026-02-17

**FIX 3 –±–∞–≥–∞:** –¢–æ—á–∫–∏ –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ + Timestamp –∏–Ω—Ç–µ—Ä–≤–∞–ª + False positive ¬´–≤–æ–ø—Ä–æ—Å¬ª

### ROOT CAUSES
- –ë–ê–ì #12: `''.join(text_parts)` –±–µ–∑ –ø—Ä–æ–±–µ–ª–∞ ‚Üí `text_parts.append(sent + ' ')`
- –ë–ê–ì #14: `last_timestamp_time` —Å–±—Ä–∞—Å—ã–≤–∞–ª—Å—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ ‚Üí `global_last_timestamp_time`
- –ë–ê–ì #13: Pattern `r'\b–≤–æ–ø—Ä–æ—Å'` –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚Üí context check `r'\b–≤–æ–ø—Ä–æ—Å[,\s]+(—á—Ç–æ|–∫–∞–∫)'`

---

## [v16.40] - 2026-02-17

**FIX –ë–ê–ì #11:** –ò–∑–º–µ–Ω—ë–Ω –ø–æ—Ä—è–¥–æ–∫ —ç—Ç–∞–ø–æ–≤: SPLIT ‚Üí TIMESTAMP INJECTION

### ROOT CAUSE
Timestamp injection –î–û split ‚Üí –≤—Å—Ç–∞–≤–∫–∞ –º–µ–∂–¥—É —Å–ª–æ–≤–∞–º–∏ (8/19 –±–µ–∑ —Ç–æ—á–∫–∏).
Continuation patterns `r'^–Ω–µ—Å–º–æ—Ç—Ä—è\b'` –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏ –∏–∑-–∑–∞ timestamp –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏.

### –†–µ—à–µ–Ω–∏–µ
`MERGE ‚Üí SPLIT ‚Üí TIMESTAMP INJECT` (–ø–æ—Ä—è–¥–æ–∫ –∏–∑–º–µ–Ω—ë–Ω)

---

## [v16.39] - 2026-02-17

**FIX –ë–ê–ì #10:** Continuation phrases —Å timestamps (¬´–Ω–µ—Å–º–æ—Ç—Ä—è¬ª ‚Üí –ñ—É—Ä–Ω–∞–ª–∏—Å—Ç)

### ROOT CAUSE
`r'^–Ω–µ—Å–º–æ—Ç—Ä—è\b'` –Ω–µ —Ä–∞–±–æ—Ç–∞–ª –ø—Ä–∏ `¬´00:16:06 –ù–µ—Å–º–æ—Ç—Ä—è...¬ª` ‚Äî timestamp –ø–µ—Ä–µ–¥ —Å–ª–æ–≤–æ–º.
‚ö†Ô∏è Workaround ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –≤ v16.40.

---

## [v16.30] - 2026-02-16

**FIX –ë–ê–ì #4:** Gap duplication filter (N-gram overlap + —É–¥–∞–ª–µ–Ω–∏–µ –ø—É–Ω–∫—Ç—É–∞—Ü–∏–∏)

### ROOT CAUSE
–ü—É–Ω–∫—Ç—É–∞—Ü–∏—è –≤ —Ç—Ä–∏–≥—Ä–∞–º–º–∞—Ö: `¬´–≤ –ª–∏—Ü–µ —Ç–∏–≥—Ä–æ–≤,¬ª` ‚â† `¬´–≤ –ª–∏—Ü–µ —Ç–∏–≥—Ä–æ–≤.¬ª` ‚Üí –¥—É–±–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.
–†–µ—à–µ–Ω–∏–µ: `re.sub(r'[^\w\s]', '')` –ø–µ—Ä–µ–¥ split() + N-gram overlap –¥–ª—è prev_segment.

---

## [v16.29] - 2026-02-16

**FIX –ë–ê–ì #3:** Gap hallucination filter (threshold 55%)

### ROOT CAUSE
Whisper —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–ª —à—É–º—ã –∫–∞–∫ —Ç–µ–∫—Å—Ç, —Å—Ö–æ–∂–∏–π —Å —Å–æ—Å–µ–¥–Ω–∏–º —Å–µ–≥–º–µ–Ω—Ç–æ–º.

---

## [v16.28] - 2026-02-16 ‚Üê –ë–ê–ó–ê –î–õ–Ø v17.0

**FIX –ë–ê–ì #2:** –ü–æ—Ç–µ—Ä—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø—Ä–∏ timestamp injection

### ROOT CAUSE
`range(0, len(sentences)-1, 2)` ‚Üí –ø—Ä–æ–ø—É—Å–∫ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –Ω–µ—á—ë—Ç–Ω–æ–π –¥–ª–∏–Ω–µ.
–†–µ—à–µ–Ω–∏–µ: `range(0, len(sentences), 2)`.

---

## [v16.27] - 2026-02-15

**–ù–æ–≤–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:** Real tests > Unit tests

### –£—Ä–æ–∫ v16.22‚Äìv16.26
8 –∏—Ç–µ—Ä–∞—Ü–∏–π: unit tests GREEN ‚Üí –∫–æ–º–º–∏—Ç ‚Üí real test ‚Üí ‚ùå –Ω–æ–≤—ã–π –±–∞–≥.
–†–µ—à–µ–Ω–∏–µ: –£–¥–∞–ª–µ–Ω—ã 7 unit test —Ñ–∞–π–ª–æ–≤. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π real test –ü–ï–†–ï–î –∫–æ–º–º–∏—Ç–æ–º.

---

## [v16.26] - 2026-02-13

**FIX:** –î—É–±–ª–∏ timestamp ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è `replica_merger` + `txt_export`

### ROOT CAUSE
–î–≤–∞ –º–æ–¥—É–ª—è –¥–æ–±–∞–≤–ª—è–ª–∏ inner timestamps –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

---

## [v16.5] - 2026-02-10

Smart GAP Attribution ‚Äî `text_similarity()` –¥–ª—è –∞—Ç—Ä–∏–±—É—Ü–∏–∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤.

---

## [v16.4] - 2026-02-08

Speaker Attribution Protection ‚Äî context window, confirmation patterns.

---

## [v16.3] - 2026-02-05

Performance Boost ‚Äî —É—Å–∫–æ—Ä–µ–Ω–∏–µ –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ –Ω–∞ 20%, —Å–Ω–∏–∂–µ–Ω–∏–µ VRAM –Ω–∞ 15%.

---

## [v16.2] - 2026-02-03

Text Corrections ‚Äî whitelist –≤–æ–µ–Ω–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤, –∫–æ—Ä—Ä–µ–∫—Ü–∏—è –æ—à–∏–±–æ–∫ Whisper.

---

## [v16.1] - 2026-02-01

Bug Fixes ‚Äî –ø—É—Å—Ç—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –ø–æ—Å–ª–µ merge, deduplication –¥–ª—è –∫–æ—Ä–æ—Ç–∫–∏—Ö —Ñ—Ä–∞–∑.

---

## [v16.0] - 2026-01-28

Base Release ‚Äî –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (`core/`, `corrections/`, `merge/`, `export/`).

---

## [v15.0 –∏ —Ä–∞–Ω–µ–µ] - –¥–æ 2026-01-28

- v15.0: Weighted Classification (–≤–µ—Å–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞—Ç—Ä–∏–±—É—Ü–∏–∏ —Å–ø–∏–∫–µ—Ä–æ–≤)
- v14.0: GAP Detection (force_transcribe –¥–ª—è –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤)
- v13.0: Adaptive VAD
- v12.0: Deduplication
- v11.0: Boundary Correction
- v10.0: Whisper large-v3-turbo
- v9.0: Pyannote Audio 3.1
- v1.0‚Äìv8.0: –ë–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø ‚Üí JSON/TXT —ç–∫—Å–ø–æ—Ä—Ç ‚Üí Speaker roles

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-02-20
**–ê–∫—Ç—É–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è:** ‚Üí —Å–º. VERSION.md
